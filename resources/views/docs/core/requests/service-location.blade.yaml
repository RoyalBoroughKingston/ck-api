store:
  type: object
  required:
    - service_id
    - location_id
    - regular_opening_hours
    - holiday_opening_hours
  properties:
    service_id:
      type: string
      format: uuid
    location_id:
      type: string
      format: uuid
    name:
      type: string
    regular_opening_hours:
      type: array
      items:
        type: object
        required:
          - frequency
          - opens_at
          - closes_at
        properties:
          frequency:
            type: string
            enum:
              - weekly
              - monthly
              - fortnightly
              - nth_occurrence_of_month
          weekday:
            type: integer
          occurrence_of_month:
            type: integer
          starts_at:
            type: string
            format: date
          opens_at:
            type: string
            format: time
          closes_at:
            type: string
            format: time
    holiday_opening_hours:
      type: array
      items:
        type: object
        required:
          - is_closed
          - starts_at
          - ends_at
          - opens_at
          - closes_at
        properties:
          is_closed:
            type: boolean
          starts_at:
            type: string
            format: date
          ends_at:
            type: string
            format: date
          opens_at:
            type: string
            format: time
          closes_at:
            type: string
            format: time

update:
  type: object
  required:
    - regular_opening_hours
    - holiday_opening_hours
  properties:
    regular_opening_hours:
      type: array
      items:
        type: object
        required:
          - frequency
          - opens_at
          - closes_at
        properties:
          frequency:
            type: string
            enum:
              - weekly
              - monthly
              - fortnightly
              - nth_week_of_month
          weekday:
            type: integer
          week_of_month:
            type: integer
          starts_at:
            type: string
            format: date
          opens_at:
            type: string
            format: date-time
          closes_at:
            type: string
            format: date-time
    holiday_opening_hours:
      type: array
      items:
        type: object
        required:
          - is_closed
          - starts_at
          - ends_at
        properties:
          is_closed:
            type: boolean
          starts_at:
            type: string
            format: date-time
          ends_at:
            type: string
            format: date-time
          opens_at:
            type: string
            format: date-time
          closes_at:
            type: string
            format: date-time
