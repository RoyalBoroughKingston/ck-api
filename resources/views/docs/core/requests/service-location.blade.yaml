store:
  allOf:
  - type: object
    required:
    - service_id
    - location_id
    properties:
      service_id:
        type: string
        format: uuid
        example: 38e06e93-79b2-4c38-85bf-7749ebc7044b
      location_id:
        type: string
        format: uuid
        example: 38e06e93-79b2-4c38-85bf-7749ebc7044b
  - $ref: "#/update"

update:
  type: object
  required:
  - name
  - regular_opening_hours
  - holiday_opening_hours
  properties:
    name:
      type: string
      nullable: true
      example: Floor 4
    regular_opening_hours:
      type: array
      items:
        type: object
        required:
        - frequency
        - opens_at
        - closes_at
        properties:
          frequency:
            type: string
            enum:
            - weekly
            - monthly
            - fortnightly
            - nth_occurrence_of_month
            example: weekly
          weekday:
            type: integer
            nullable: true
            example: 2
          day_of_month:
            type: integer
            nullable: true
            example: null
          occurrence_of_month:
            type: integer
            nullable: true
            example: null
          starts_at:
            type: string
            nullable: true
            format: date
            example: null
          opens_at:
            type: string
            format: time
            example: "09:00:00"
          closes_at:
            type: string
            format: time
            example: "17:30:00"
    holiday_opening_hours:
      type: array
      items:
        type: object
        required:
        - is_closed
        - starts_at
        - ends_at
        - opens_at
        - closes_at
        properties:
          is_closed:
            type: boolean
            example: true
          starts_at:
            type: string
            format: date
            example: "2018-12-24"
          ends_at:
            type: string
            format: date
            example: "2019-01-01"
          opens_at:
            type: string
            format: time
            example: "00:00:00"
          closes_at:
            type: string
            format: time
            example: "00:00:00"
    image_file_id:
      type: string
      format: uuid
      example: 38e06e93-79b2-4c38-85bf-7749ebc7044b
      description: The ID of the file uploaded
      nullable: true
